penpot.ui.open("Icons",`/penpot-plugins/icon-finder/?theme=${penpot.theme}`,{width:250,height:350});penpot.on("themechange",e=>{l({type:"theme",content:e})});penpot.ui.onMessage(e=>{if(console.log("onMessage",e),e.type==="create-svg"){const n=penpot.createShapeFromSvg(e.content);if(!n)return;n.name=e.title;const t=penpot.selection[0];let o=null;if(t&&"children"in t?o=t:t&&t.parent&&"children"in t.parent&&(o=t.parent),o){const c=penpot.shapesColors([o]).at(-1);c&&n.children.filter(p=>p.name.includes("path")).forEach(p=>p.fills=[{fillColor:c.color}]),o.appendChild(n)}const i=penpot.viewport.center;n.boardX=i.x,n.boardY=i.y,penpot.selection=[n]}});function l(e){penpot.ui.sendMessage(e)}
